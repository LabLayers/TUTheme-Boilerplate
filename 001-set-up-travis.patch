From ea191b46f78e0ef9c72b20750c02c837ef01280e Mon Sep 17 00:00:00 2001
From: Victor Lourng <hello@victorlourng.com>
Date: Mon, 7 Nov 2016 14:41:48 -0500
Subject: [PATCH] Set up Travis deployments

---
 .travis.yml | 18 ++++++++++++++++++
 Gemfile     |  3 +++
 2 files changed, 21 insertions(+)
 create mode 100644 .travis.yml

diff --git a/.travis.yml b/.travis.yml
new file mode 100644
index 0000000..8ec7903
--- /dev/null
+++ b/.travis.yml
@@ -0,0 +1,18 @@
+language: ruby
+rvm:
+- 2.2.5
+env:
+  global:
+  - NOKOGIRI_USE_SYSTEM_LIBRARIES=true
+sudo: false
+branches:
+  only:
+  - master
+install:
+- bundle install
+script:
+- bundle exec jekyll build
+- timeout 120s bundle exec htmlproofer ./_site --check-html --check-favicon --allow-hash-href --external_only --only-4xx --http-status-ignore 429
+deploy:
+  provider: azure_web_apps
+  skip_cleanup: true
diff --git a/Gemfile b/Gemfile
index e49d547..1a2fccc 100644
--- a/Gemfile
+++ b/Gemfile
@@ -17,6 +17,9 @@ gem "minima"
 # This is the Temple University Jekyll theme. It is not available for public use.
 gem "tutheme", :git => 'https://github.com/TULiberalArts/TUTheme.git'
 
+# For serving the built site
+gem "htmlproofer"
+
 # If you want to use GitHub Pages, remove the "gem "jekyll"" above and
 # uncomment the line below. To upgrade, run `bundle update github-pages`.
 # gem "github-pages", group: :jekyll_plugins
-- 
2.8.4 (Apple Git-73)

